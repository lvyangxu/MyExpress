{"version":3,"sources":["account.es6"],"names":[],"mappings":";;;;AAAA,IAAI,WAAW,QAAQ,YAAR,CAAf;AACA,OAAO,OAAP,GAAiB;AACb,mBAAe,uBAAC,GAAD,EAAM,GAAN,EAAa;AACxB,iBAAS,OAAT,CAAiB,GAAjB,EAAsB;AAClB,sBAAU,OAAO,aAAP,CAAqB,cADb;AAElB,sBAAU,OAAO,aAAP,CAAqB,cAFb;AAGlB,2BAAe,OAAO,aAAP,CAAqB;AAHlB,SAAtB;AAKH,KAPY;AAQb,WAAO,eAAC,GAAD,EAAM,GAAN,EAAa;AAChB,YAAI,WAAW,IAAI,IAAJ,CAAS,QAAxB;AACA,YAAI,WAAW,IAAI,IAAJ,CAAS,QAAxB;AACA,YAAI,YAAY,OAAO,aAAP,CAAqB,QAAjC,IAA6C,YAAY,OAAO,aAAP,CAAqB,QAAlF,EAA4F;;AAExF,gBAAI,OAAJ,CAAY,QAAZ,GAAuB,QAAvB;AACA,qBAAS,OAAT,CAAiB,GAAjB;AACH,SAJD,MAIO;AACH,qBAAS,IAAT,CAAc,GAAd,EAAmB,8BAAnB;AACH;AACJ,KAlBY;AAmBb,YAAQ,kBAAK,CAEZ,CArBY;AAsBb,aAAS,iBAAC,GAAD,EAAM,GAAN,EAAa;AAAA,mBACQ,CAAC,UAAD,EAAa,UAAb,EAAyB,GAAzB,CAA6B,aAAI;AACvD,gBAAI,IAAI,OAAJ,CAAY,OAAO,aAAP,CAAqB,IAAI,QAAzB,CAAZ,CAAJ;AACA,mBAAO,CAAP;AACH,SAHyB,CADR;;AAAA;;AAAA,YACb,QADa;AAAA,YACJ,QADI;;AAKlB,YAAI,YAAY,OAAO,aAAP,CAAqB,QAAjC,IAA6C,YAAY,OAAO,aAAP,CAAqB,QAAlF,EAA4F;;AAExF,gBAAI,OAAJ,CAAY,QAAZ,GAAuB,OAAO,aAAP,CAAqB,QAA5C;AACA,mBAAO,IAAP;AACH,SAJD,MAIO;AACH,mBAAO,KAAP;AACH;AACJ;AAlCY,CAAjB","file":"account.js","sourcesContent":["let response = require(\"./response\");\r\nmodule.exports = {\r\n    getCookieName: (req, res)=> {\r\n        response.success(res, {\r\n            username: global.accountConfig.usernameCookie,\r\n            password: global.accountConfig.passwordCookie,\r\n            loginRedirect: global.accountConfig.loginRedirect\r\n        });\r\n    },\r\n    login: (req, res)=> {\r\n        let username = req.body.username;\r\n        let password = req.body.password;\r\n        if (username == global.accountConfig.username && password == global.accountConfig.password) {\r\n            //set session\r\n            req.session.username = username;\r\n            response.success(res);\r\n        } else {\r\n            response.fail(res, \"invalid username or password\");\r\n        }\r\n    },\r\n    logout: ()=> {\r\n\r\n    },\r\n    relogin: (req, res)=> {\r\n        let [username,password] = [\"username\", \"password\"].map(d=> {\r\n            d = req.cookies[global.accountConfig[d + \"Cookie\"]];\r\n            return d;\r\n        });\r\n        if (username == global.accountConfig.username && password == global.accountConfig.password) {\r\n            //set session\r\n            req.session.username = global.accountConfig.username;\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n};"]}