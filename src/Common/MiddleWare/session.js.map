{"version":3,"sources":["session.es6"],"names":[],"mappings":";;AAAA,IAAI,UAAU,QAAQ,WAAR,CAAd;AACA,IAAI,WAAW,QAAQ,YAAR,CAAf;AACA,OAAO,OAAP,GAAiB,UAAC,GAAD,EAAM,GAAN,EAAW,IAAX,EAAmB;AAChC,QAAI,IAAI,OAAJ,CAAY,QAAZ,IAAwB,SAA5B,EAAuC;;AAEnC,YAAI,YAAY,QAAQ,OAAR,EAAhB;AACA,YAAI,SAAJ,EAAe;AACX;AACH,SAFD,MAEO;AACH,qBAAS,IAAT,CAAc,GAAd,EAAmB,cAAnB;AACH;AACJ;AACJ,CAVD","file":"session.js","sourcesContent":["let account = require(\"./account\");\r\nlet response = require(\"./response\");\r\nmodule.exports = (req, res, next)=> {\r\n    if (req.session.username == undefined) {\r\n        //try relogin\r\n        let isSuccess = account.relogin();\r\n        if (isSuccess) {\r\n            next();\r\n        } else {\r\n            response.fail(res, \"unauthorized\");\r\n        }\r\n    }\r\n};"]}