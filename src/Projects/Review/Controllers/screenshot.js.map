{"version":3,"sources":["screenshot.es6"],"names":[],"mappings":";;AAAA,IAAI,KAAK,QAAQ,IAAR,CAAT;AACA,IAAI,WAAW,QAAQ,YAAR,CAAf;AACA,OAAO,OAAP,GAAiB;AACb,cAAU,kBAAC,GAAD,EAAM,GAAN,EAAa;AACnB,YAAI,SAAS,EAAb;AACA,eAAO,KAAP,CAAa,WAAb,CAAyB,qCAAqC,IAAI,IAAJ,CAAS,IAA9C,GAAqD,GAA9E,EAAmF,IAAnF,CAAwF,aAAI;AACxF,gBAAI,KAAK,EAAE,CAAF,EAAK,EAAd;AACA,gBAAI;AACA,yBAAS,GAAG,WAAH,CAAe,sBAAsB,EAAtB,GAA2B,GAA1C,CAAT;AACA,yBAAS,OAAO,GAAP,CAAW,cAAK;AACrB,yBAAK,EAAC,IAAI,EAAL,EAAS,WAAW,EAApB,EAAL;AACA,2BAAO,EAAP;AACH,iBAHQ,CAAT;AAIH,aAND,CAME,OAAO,CAAP,EAAU;AACR,wBAAQ,GAAR,CAAY,qBAAqB,IAAI,IAAJ,CAAS,EAA1C;AACA,wBAAQ,GAAR,CAAY,CAAZ;AACH;AACD,gBAAI,IAAJ,CAAS,EAAC,SAAS,MAAV,EAAkB,SAAS,MAA3B,EAAT;AACH,SAbD,EAaG,KAbH,CAaS,aAAI;AACT,gBAAI,IAAJ,CAAS,EAAC,SAAS,MAAV,EAAkB,SAAS,MAA3B,EAAT;AACH,SAfD;AAkBH;AArBY,CAAjB","file":"screenshot.js","sourcesContent":["let fs = require(\"fs\");\r\nlet response = require(\"./response\");\r\nmodule.exports = {\r\n    getNames: (req, res)=> {\r\n        let dirArr = [];\r\n        global.mysql.excuteQuery(\"select id from game where name='\" + req.body.name + \"'\").then(d=> {\r\n            let id = d[0].id;\r\n            try {\r\n                dirArr = fs.readdirSync(\"client/data/game/\" + id + \"/\");\r\n                dirArr = dirArr.map(d1=> {\r\n                    d1 = {id: id, imageName: d1};\r\n                    return d1;\r\n                });\r\n            } catch (e) {\r\n                console.log(\"read dir failed:\" + req.body.id);\r\n                console.log(e);\r\n            }\r\n            res.send({success: \"true\", message: dirArr});\r\n        }).catch(d=> {\r\n            res.send({success: \"true\", message: dirArr});\r\n        });\r\n\r\n\r\n    }\r\n}"]}